FROM debian:trixie-slim
RUN apt-get update && apt-get install -y \
    make ca-certificates git docker.io gauche

WORKDIR /cache
RUN git clone https://gitea.scheme.org/Retropikzel/compile-scheme.git --depth=1

WORKDIR /cache/compile-r7rs
RUN make build-gauche
RUN make install
